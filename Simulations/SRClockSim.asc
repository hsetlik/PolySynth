Version 4
SHEET 1 3368 3520
WIRE 1760 -16 1504 -16
WIRE 2256 -16 2000 -16
WIRE 864 0 608 0
WIRE 1312 0 1056 0
WIRE 1504 112 1504 -16
WIRE 1520 112 1504 112
WIRE 1792 112 1712 112
WIRE 2000 112 2000 -16
WIRE 2016 112 2000 112
WIRE 2320 112 2208 112
WIRE 608 128 608 0
WIRE 624 128 608 128
WIRE 896 128 816 128
WIRE 1056 128 1056 0
WIRE 1072 128 1056 128
WIRE 1344 128 1264 128
WIRE 1344 144 1344 128
WIRE 1408 144 1344 144
WIRE 1520 144 1408 144
WIRE 1792 144 1792 112
WIRE 1856 144 1792 144
WIRE 2016 144 1856 144
WIRE 624 160 512 160
WIRE 896 160 896 128
WIRE 960 160 896 160
WIRE 1072 160 960 160
WIRE 1760 176 1760 -16
WIRE 1760 176 1712 176
WIRE 2256 176 2256 -16
WIRE 2256 176 2208 176
WIRE 2320 176 2256 176
WIRE 864 192 864 0
WIRE 864 192 816 192
WIRE 1312 192 1312 0
WIRE 1312 192 1264 192
WIRE 64 256 64 224
WIRE 1616 288 1616 256
WIRE 2112 288 2112 256
WIRE 720 304 720 272
WIRE 1168 304 1168 272
WIRE 64 368 64 336
WIRE 144 368 64 368
WIRE 64 400 64 368
WIRE 144 448 144 368
WIRE -1296 464 -1296 416
WIRE 1520 496 1488 496
WIRE 1664 496 1632 496
WIRE 1824 496 1776 496
WIRE 1968 496 1936 496
WIRE 2128 496 2080 496
WIRE 64 528 64 480
WIRE -1296 576 -1296 544
WIRE 352 608 352 560
WIRE 1184 672 1152 672
WIRE 1328 688 1296 688
WIRE 1184 704 1152 704
WIRE 352 720 352 688
WIRE 1184 784 1152 784
WIRE 1328 800 1296 800
WIRE 1184 816 1152 816
WIRE -80 864 -80 816
WIRE 64 864 64 816
WIRE 352 880 352 832
WIRE -1312 912 -1312 864
WIRE 1184 912 1152 912
WIRE 1328 928 1296 928
WIRE -752 944 -800 944
WIRE 1184 944 1152 944
WIRE -80 976 -80 944
WIRE 64 976 64 944
WIRE 352 992 352 960
WIRE -1312 1008 -1312 992
WIRE -752 1008 -784 1008
WIRE 1184 1024 1152 1024
WIRE -752 1040 -848 1040
WIRE 1328 1040 1296 1040
WIRE 1184 1056 1152 1056
WIRE -752 1104 -944 1104
WIRE -752 1136 -800 1136
WIRE 64 1136 64 1088
WIRE -752 1168 -768 1168
WIRE -768 1184 -768 1168
WIRE -752 1200 -784 1200
WIRE -752 1232 -768 1232
WIRE 64 1248 64 1216
WIRE -752 1264 -768 1264
WIRE -752 1296 -768 1296
WIRE -768 1312 -768 1296
WIRE -752 1328 -816 1328
WIRE -752 1360 -768 1360
WIRE -496 1360 -528 1360
WIRE -480 1360 -496 1360
WIRE -768 1376 -768 1360
WIRE -496 1456 -496 1360
WIRE -752 1536 -800 1536
WIRE -496 1552 -496 1536
WIRE -752 1600 -784 1600
WIRE -752 1632 -848 1632
WIRE -752 1696 -768 1696
WIRE -768 1712 -768 1696
WIRE -752 1728 -800 1728
WIRE -752 1760 -768 1760
WIRE -752 1792 -784 1792
WIRE -752 1824 -768 1824
WIRE -752 1856 -768 1856
WIRE -752 1888 -768 1888
WIRE -768 1904 -768 1888
WIRE -752 1920 -816 1920
WIRE -752 1952 -768 1952
WIRE -480 1952 -528 1952
WIRE -768 1968 -768 1952
WIRE -944 2048 -944 1104
WIRE -480 2048 -480 1952
WIRE -480 2048 -944 2048
FLAG 64 224 +12
FLAG 64 528 -12
FLAG 144 448 0
FLAG 64 816 Vdd
FLAG 64 976 0
FLAG 64 1088 FF_CLR
FLAG 64 1248 0
FLAG 352 560 SCK
FLAG 352 720 0
FLAG 512 160 SCK
FLAG -784 1008 0
FLAG -848 1040 SCK_PRE
FLAG -480 1360 MOSI
FLAG -768 1184 0
FLAG -768 1312 0
FLAG -768 1376 0
FLAG -816 1328 Vdd
FLAG -768 1264 Vdd
FLAG -768 1232 Vdd
FLAG -784 1200 Vdd
FLAG -800 1136 Vdd
FLAG -80 816 vcc
FLAG -80 976 0
FLAG -496 1552 0
FLAG -1312 1008 0
FLAG -1312 864 VLoad
FLAG -800 944 VLoad
FLAG -784 1600 0
FLAG -848 1632 SCK_PRE
FLAG -768 1904 0
FLAG -768 1968 0
FLAG -816 1920 Vdd
FLAG -768 1856 Vdd
FLAG -768 1824 Vdd
FLAG -800 1728 Vdd
FLAG -800 1536 VLoad
FLAG -768 1760 Vdd
FLAG -784 1792 0
FLAG -768 1712 0
FLAG 720 48 vcc
FLAG 720 304 vcc
FLAG 1168 48 vcc
FLAG 1168 304 vcc
FLAG 960 160 f2
FLAG 1408 144 f4
FLAG 1616 32 vcc
FLAG 1616 288 vcc
FLAG 1856 144 f8
FLAG 2112 32 vcc
FLAG 2112 288 vcc
FLAG 2320 112 latch1
FLAG 2320 176 latch2
FLAG 1152 672 SCK_DEL
FLAG 1152 704 latch1
FLAG 1152 784 MOSI
FLAG 1152 816 latch1
FLAG 1328 688 SCK2
FLAG 1328 800 MOSI2
FLAG 1152 912 SCK_DEL
FLAG 1152 944 latch2
FLAG 1152 1024 MOSI
FLAG 1152 1056 latch2
FLAG 1328 928 SCK1
FLAG 1328 1040 MOSI1
FLAG 352 832 SCK_DEL
FLAG 352 992 0
FLAG -1296 416 SCK_PRE
FLAG -1296 576 0
FLAG 2128 496 SCK_ST
FLAG 1488 496 SCK
SYMBOL voltage 64 240 R0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage 64 384 R0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL voltage 64 848 R0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL voltage 64 1120 R0
SYMATTR InstName V4
SYMATTR Value PULSE(0 3.3 30n 10n 10n 10n 15n 1)
SYMBOL voltage 352 592 R0
SYMATTR InstName V5
SYMATTR Value PULSE(0 3.3 100ns 3ns 3ns 500ns 1000ns)
SYMBOL voltage -80 848 R0
SYMATTR InstName V6
SYMATTR Value 3.3
SYMBOL 74HC/74hc165 -640 864 R0
SYMATTR InstName U4
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL res -512 1440 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL voltage -1312 896 R0
SYMATTR InstName V7
SYMATTR Value PULSE(0 3.3 40ns 10ns 10ns 20u 20u)
SYMBOL 74HC/74hc165 -640 1456 R0
SYMATTR InstName U5
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc74 720 48 R0
SYMATTR InstName U7
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc74 1168 48 R0
SYMATTR InstName U1
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc74 1616 32 R0
SYMATTR InstName U2
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc74 2112 32 R0
SYMATTR InstName U3
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc08 1232 624 R0
SYMATTR InstName U6
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc08 1232 736 R0
SYMATTR InstName U8
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc08 1232 864 R0
SYMATTR InstName U9
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc08 1232 976 R0
SYMATTR InstName U10
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL voltage 352 864 R0
SYMATTR InstName V8
SYMATTR Value PULSE(0 3.3 210ns 3ns 3ns 500ns 1000ns)
SYMBOL voltage -1296 448 R0
SYMATTR InstName V9
SYMATTR Value PULSE(0 3.3 70ns 10ns 10ns 500ns 1000ns)
SYMBOL 74HC/74hc14 1712 448 R0
SYMATTR InstName U11
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc14 1568 448 R0
SYMATTR InstName U12
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc14 2016 448 R0
SYMATTR InstName U13
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
SYMBOL 74HC/74hc14 1872 448 R0
SYMATTR InstName U14
SYMATTR SpiceLine VCC=3.3  SPEED=1.0  TRIPDT=1e-9
TEXT -40 112 Left 2 !.tran 20u UIC
TEXT 416 632 Left 2 ;Simulated 1Mhz SPI clock
TEXT -40 80 Left 2 !.INCLUDE CD4000.lib
TEXT -40 48 Left 2 !.INCLUDE 74HC.lib
TEXT -1552 1600 Left 2 ;Sample data is: 10111010 10110110
TEXT 416 904 Left 2 ;Clock above delayed by ~100ns to match
TEXT 608 -64 Left 2 ;NOTE: these four flip-flops introduce ~110ns of propagation delay
